package;

@:expose("VilogImage") extern class VilogImage implements VilogOutput {
	var autoPlay : Bool;
	private var background : Null<js.html.CanvasElement>;
	private var backgroundContext : Null<js.html.CanvasRenderingContext2D>;
	var container(default,null) : js.html.Element;
	var fileName(default,null) : String;
	private var foreground : js.html.CanvasElement;
	private var foregroundContext : js.html.CanvasRenderingContext2D;
	var fps(default,null) : Float;
	var image(default,null) : js.html.Element;
	var logLevel(default,null) : Int;
	private var loggers : Array<VilogLogger>;
	var loop : Bool;
	var playing(default,null) : Bool;
	private var request : js.html.XMLHttpRequest;
	private var restTime : Float;
	var stream(default,null) : VilogStream;
	function new(container : js.html.Element) : Void;
	function addLogger(logger : VilogLogger) : Void;
	function arc(cx : Float, cy : Float, r : Float, startAngle : Float, sweepAngle : Float, isForBackground : Bool) : Void;
	function clear() : Void;
	function clearBackground() : Void;
	function cubicTo(x0 : Float, y0 : Float, x1 : Float, y1 : Float, x2 : Float, y2 : Float, isForBackground : Bool) : Void;
	function drawArrows(arrows : Array<VilogArrow>, isForBackground : Bool, style : VilogDrawStyle) : Void;
	function drawCircle(x : Float, y : Float, radius : Float, isForBackground : Bool, style : VilogDrawStyle) : Void;
	function drawGrid(x : Float, y : Float, width : Float, height : Float, repeatX : Int, repeatY : Int, padding : Float, isForBackground : Bool, style : VilogDrawStyle) : Void;
	function drawRect(x : Float, y : Float, width : Float, height : Float, isForBackground : Bool, style : VilogDrawStyle) : Void;
	@:has_untyped function drawText(message : String, x : Float, y : Float, maxWidth : Float, isForBackground : Bool, style : VilogDrawStyle, textStyle : VilogTextStyle) : Void;
	private function endDraw(context : js.html.CanvasRenderingContext2D, style : VilogDrawStyle) : Void;
	function endPath(isForBackground : Bool, style : VilogDrawStyle) : Void;
	function enterFrame(time : Float) : Void;
	private function getCanvasContext(isForBackground : Bool) : js.html.CanvasRenderingContext2D;
	function initializeCanvas(width : Float, height : Float, defaultFps : Float) : Void;
	function isLoading() : Bool;
	function lineTo(x : Float, y : Float, isForBackground : Bool) : Void;
	function loadFile(src : String) : Void;
	function log(line : Int, message : String, level : vilog.enums.VilogLogLevel, isForBackground : Bool) : Void;
	private function onLoadFile(e : js.html.ProgressEvent) : Void;
	function play() : Void;
	function quadTo(x0 : Float, y0 : Float, x1 : Float, y1 : Float, isForBackground : Bool) : Void;
	function removeLogger(logger : VilogLogger) : Bool;
	function setFileName(fileName : String) : Void;
	function setLogLevel(logLevel : Int) : Void;
	private function setStyle(context : js.html.CanvasRenderingContext2D, style : VilogDrawStyle) : Void;
	function startPath(x : Float, y : Float, isForBackground : Bool, style : VilogDrawStyle) : Void;
	function stop() : Void;
	private function stroke(context : js.html.CanvasRenderingContext2D, style : VilogDrawStyle) : Void;
	private static var newlineRegExp : js.lib.RegExp;
}
